<template>
    <div class="slds-m-top_medium slds-m-bottom_x-large">
        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template>
        <div class="slds-p-around_medium lgc-bg">
            <lightning-input type="text" name="name" label="Name" placeholder="type here..." onchange={handleValueChange}></lightning-input>
            <!-- <lightning-input type="text" label="Stage" placeholder="type here..." onchange={handleValueChange}></lightning-input>
            <lightning-input type="text" label="Close Date" placeholder="DD/MM/YYYY" onchange={handleValueChange}></lightning-input> -->
            <lightning-combobox
                label="Stage Name"
                name="stageName"
                placeholder="Select Stage"
                options={stageOptions}
                onchange={handleValueChange}></lightning-combobox>
            <lightning-input 
                type="date" 
                label="Close Date"
                name="closeDate" 
                placeholder="Select Date"
                onchange={handleValueChange}></lightning-input>
            <button class="slds-button slds-button_brand" onclick={submit}>Save</button>
        </div>
        <!-- Displaying the API result -->
    <template if:true={apiResult}>
        <p>API Result: {apiResult}</p>
    </template>
    <div style="height: 300px;">
        <p>opportunityRecords: {opportunityRecords}</p>
        <lightning-datatable
                key-field="Id"
                data={opportunityRecords}
                show-row-number-column
                row-number-offset={rowOffset}
                suppress-bottom-bar
                columns={columns}
                oncellchange={handleCellChange}
                draft-values={draftValues}>
        </lightning-datatable>
    </div>
    </div>
</template>